import React,{useState} from 'react';import api from '../lib_api';export default function Chat({user}){const [input,setInput]=useState('');const [msgs,setMsgs]=useState([]);async function send(){const {data}=await api.post('/api/ai/chat',{gender:user?.gender||'male',userName:user?.name||'Warrior',premium:!!user?.premium,message:input});setMsgs(m=>[...m,{role:'user',text:input},{role:'god',text:`${data.deity}: ${data.text}`}]);setInput('')}return <div className='rune-card'><h2 className='text-xl font-bold mb-2'>Throne of the Gods</h2><div className='space-y-2 max-h-72 overflow-auto mb-3'>{msgs.map((m,i)=>(<div key={i} className={m.role==='user'?'text-amber-300':'text-neutral-200'}>{m.text}</div>))}</div><div className='flex gap-2'><input className='flex-1 bg-black/50 border border-neutral-700 rounded px-3 py-2' value={input} onChange={e=>setInput(e.target.value)} placeholder='Speak to the gods...'/><button className='rune-btn' onClick={send}>Send</button></div></div>}
